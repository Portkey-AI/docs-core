---
title: "Open WebUI"
description: "Cost tracking, observability, and more for Open WebUI"
---

This guide will help you implement enterprise-grade security, observability, and governance for OpenWebUI using Portkey. While OpenWebUI supports various provider plugins, Portkey provides a unified interface for all your LLM providers, offering comprehensive features for model management, cost tracking, observability, and metadata logging.

For IT administrators deploying centralized instances of OpenWebUI, Portkey enables essential enterprise features including usage tracking, access controls, and budget management. Let's walk through implementing these features step by step.

# Understanding the Implementation

When implementing Portkey with OpenWebUI in your organization, we'll follow these key steps:

1. Basic OpenWebUI integration with Portkey
2. Setting up organizational governance using Model Catlog
3. Managing user access and permissions, setting- budget & rate limits, and more...

<Note>
  If you're an individual user just looking to use Portkey with Open WebUI, you
  only need to complete Steps 1 and 2 to get started.
</Note>


## 1. Setting Up Portkey

<Steps>
  <Step title="Create Portkey API Key">
    1. Go to the [**API Keys**](https://app.portkey.ai/api-keys) section in the Portkey sidebar.
    2. Click **Create New API Key** with **all the permissions**.
    3. Save and copy the key — you’ll need it for OpenWebUI.
  </Step>

  <Step title="Add Your Provider">
    1. Navigate to **Model Catalog → AI Providers**.
    <Frame>
      <img src="/Screenshot2025-07-21at5.29.57PM.png" alt="Portkey Model Catalog - Add Provider" />
    </Frame>
    2. Click **Create Provider** (if this is your first time using Portkey).
    3. Select **Create New Integration** → choose your AI service (OpenAI, Anthropic, etc.).
    4. Enter your provider’s API key and required details.
    5. *(Optional)* Configure workspace and model provisioning.
    6. Click **Create Integration**.
  </Step>

  <Step title="Get Your Model Slugs">
    1. Go to **Model Catalog → Models**.
    2. Copy the slug for each model you want to use (`@provider-slug/model-name`).
    <Frame>
      <img src="/images/product/model-catalog/model-integration-model-box.png" width="500" />
    </Frame>
    <Note>
      Example: `@openai-test/gpt-4o` — use this in the `model` field of API requests.
    </Note>
  </Step>
</Steps>

That's it — your Portkey setup is ready. Now let’s integrate it with OpenWebUI.

---

## 2. Integrating Portkey with OpenWebUI

Since Portkey is OpenAI API–compatible, connecting it to OpenWebUI is quick and straightforward.

<Note>
  You’ll need your Portkey API key from [Step&nbsp;1](#1-setting-up-portkey) before continuing.
</Note>

<Steps>
  <Step title="Access Admin Panel">
    1. Start your OpenWebUI server.
    2. Click on your **username** at the bottom left.
    3. Go to the **Admin Panel** -> **Settings** tab -> Select **Connections** from the sidebar.
    <Frame>
      <img src="/images/integrations/openwebui-settings-connection-page.png" width="400" />
    </Frame>
  </Step>

  <Step title="Enable Direct Connections">
    1. Turn ON **Direct Connections** and **OpenAI API** toggle switch.
    2. Click the **+** icon next to *Manage OpenAI API Connections*.
  </Step>

  <Step title="Configure Portkey Connection">
    Fill in the following in the **Edit Connection** dialog:

    - **URL**: `https://api.portkey.ai/v1`
    - **Key**: Your Portkey API key from Step&nbsp;1
    - **Prefix ID**: `portkey` (or any name you prefer)
    - **Model IDs**: Your model slugs (e.g., `@openai/gpt-4o`, `@anthropic/claude-3-sonnet`) from Step&nbsp;1

    <Frame>
      <img src="/images/integrations/openwebui-edit-connection.png" width="400" />
    </Frame>

    Click **Save** to finish.
  </Step>

  <Step title="Select and Use Your Model">
    1. Go back to the main chat interface and select Portkey model (format: `@model-name`) from the dropdown at the top.
    2. Start chatting!

    <Note>
      **For Anthropic models**: You must set a *Max Tokens* value.
      Click the settings icon (top right) and set **Max Tokens** to a valid number (e.g., 1024).
    </Note>
  </Step>
</Steps>

You can track requests, usage, and costs in the [**Portkey Dashboard**](https://app.portkey.ai/dashboard).


# 3. Set Up Enterprise Governance for Open WebUI

**Why Enterprise Governance?**
If you are using Open WebUI inside your orgnaization, you need to consider several governance aspects:

- **Cost Management**: Controlling and tracking AI spending across teams
- **Access Control**: Managing team access and workspaces
- **Usage Analytics**: Understanding how AI is being used across the organization
- **Security & Compliance**: Maintaining enterprise security standards
- **Reliability**: Ensuring consistent service across all users
- **Model Management**: Managing what models are being used in your setup

Portkey adds a comprehensive governance layer to address these enterprise

**Enterprise Implementation Guide**

<AccordionGroup>
  <Accordion title="Step 1: Implement Budget Controls & Rate Limits">
### Step 1: Implement Budget Controls & Rate Limits

Model Catalog enables you to have granular control over LLM access at the team/department level. This helps you:

- Set up [budget limits](/product/model-catalog/integrations#3-budget-%26-rate-limits)
- Prevent unexpected usage spikes using Rate limits
- Track departmental spending

#### Setting Up Department-Specific Controls:

1. Navigate to [Model Catalog](https://app.portkey.ai/model-catalog) in Portkey dashboard
2. Create new Provider for each engineering team with budget limits and rate limits
3. Configure department-specific limits

<Frame>
  <img
    src="/images/product/model-catalog/create-provider-page.png"
    width="500"
  />
</Frame>

  </Accordion>

  <Accordion title="Step 2: Define Model Access Rules">
### Step 2: Define Model Access Rules

As your AI usage scales, controlling which teams can access specific models becomes crucial. You can simply manage AI models in your org by provisioning model at the top integration level.

<Frame>
  <img
    src="/images/product/model-catalog/model-provisioning-page.png"
    width="500"
  />
</Frame>

</Accordion>

<Accordion title="Step 4: Set Routing Configuration">
    Portkey allows you to control your routing logic very simply with it's Configs feature. Portkey Configs provide this control layer with things like:

- **Data Protection**: Implement guardrails for sensitive code and data
- **Reliability Controls**: Add fallbacks, load-balance, retry and smart conditional routing logic
- **Caching**: Implement Simple and Semantic Caching. and more....

#### Example Configuration:

Here's a basic configuration to load-balance requests to OpenAI and Anthropic:

```json
{
  "strategy": {
    "mode": "load-balance"
  },
  "targets": [
    {
      "override_params": {
        "model": "@YOUR_OPENAI_PROVIDER_SLUG/gpt-model"
      }
    },
    {
      "override_params": {
        "model": "@YOUR_ANTHROPIC_PROVIDER/claude-sonnet-model"
      }
    }
  ]
}
```

Create your config on the [Configs page](https://app.portkey.ai/configs) in your Portkey dashboard. You'll need the config ID for connecting to Open WebUI's setup.

<Note>
  Configs can be updated anytime to adjust controls without affecting running
  applications.
</Note>

  </Accordion>

  <Accordion title="Step 4: Implement Access Controls">
### Step 3: Implement Access Controls

Create User-specific API keys that automatically:

- Track usage per developer/team with the help of metadata
- Apply appropriate configs to route requests
- Collect relevant metadata to filter logs
- Enforce access permissions

Create API keys through:

- [Portkey App](https://app.portkey.ai/)
- [API Key Management API](/api-reference/admin-api/control-plane/api-keys/create-api-key)

Example using Python SDK:

```python
from portkey_ai import Portkey

portkey = Portkey(api_key="YOUR_ADMIN_API_KEY")

api_key = portkey.api_keys.create(
    name="frontend-engineering",
    type="organisation",
    workspace_id="YOUR_WORKSPACE_ID",
    defaults={
        "config_id": "your-config-id",
        "metadata": {
            "environment": "development",
            "department": "engineering",
            "team": "frontend"
        }
    },
    scopes=["logs.view", "configs.read"]
)
```

For detailed key management instructions, see our [API Keys documentation](/api-reference/admin-api/control-plane/api-keys/create-api-key).

  </Accordion>

<Accordion title="Step 5: Deploy & Monitor">
  ### Step 4: Deploy & Monitor After distributing API keys to your engineering
  teams, your enterprise-ready Open WebUI setup is ready to go. Each developer
  can now use their designated API keys with appropriate access levels and
  budget controls. Apply your governance setup using the integration steps from
  earlier sections Monitor usage in Portkey dashboard: - Cost tracking by
  engineering team - Model usage patterns for AI agent tasks - Request volumes -
  Error rates and debugging logs
</Accordion>

</AccordionGroup>

<Check>
### Enterprise Features Now Available
**Open WebUI now has:**

- Per-developer budget controls
- Model access governance
- Usage tracking & attribution
- Code security guardrails
- Reliability features for development workflows

</Check>


Here's the new section for image generation using Portkey with Open WebUI:


## 4.  Image Generation with Portkey

Portkey enables seamless image generation through Open WebUI by providing a unified interface for various image generation models like DALL-E 2, DALL-E 3, and other compatible models. This integration allows you to leverage Portkey's enterprise features including cost tracking, access controls, and observability for all your image generation needs.

### Setting Up Image Generation

<Note>
  Before proceeding, ensure you have completed the basic Portkey setup from [Step 1](#1-setting-up-portkey) and have your Portkey API key ready.
</Note>

<Steps>
  <Step title="Access Image Settings">
    1. Navigate to your Open WebUI **Admin Panel**
    2. Go to **Settings** → **Images** from the sidebar

    <Frame>
      <img src="/images/integrations/openwebu-image-gen-image.png" alt="Open WebUI Images Settings" />
    </Frame>
  </Step>

  <Step title="Configure Image Generation Engine">
    In the Image Settings page, configure the following:

    1. **Enable Image Generation**: Toggle ON the **Image Generation (Experimental)** option
    2. **Image Generation Engine**: Select **Default (Open AI)** from the dropdown
    3. **OpenAI API Config**: Enter Portkey's base URL:
       ```
       https://api.portkey.ai/v1
       ```
    4. **API Key**: Enter your Portkey API key (from [Step 1](#1-setting-up-portkey))
    5. **Set Default Model**: Enter your model slug in the format:
       ```
       @provider-key/model-name
       ```
       For example: `@openai-test/dall-e-3`

    <Frame>
      <img src="/images/integrations/openwebui-image-generation-config.png" alt="Image Generation Configuration" />
    </Frame>
  </Step>

  <Step title="Configure Model-Specific Settings">

    Choose the model you wish to use. Note that image size options will depend on the selected model:
    - DALL·E 2: Supports 256x256, 512x512, or 1024x1024 images.
    - DALL·E 3: Supports 1024x1024, 1792x1024, or 1024x1792 images.
    - GPT-Image-1: Supports auto, 1024x1024, 1536x1024, or 1024x1536 images.

    **Steps**: Set the number of generation steps (typically 50 for good quality)

    - **Other Models**: Check your provider's documentation (gemini, vertex, and more..) for supported sizes


  </Step>

  <Step title="Test Your Configuration">
    1. Return to the main chat interface
    2. Type a prompt and click the image generation icon
    3. Your image will be generated using Portkey's infrastructure
    4. Track usage and costs in the [Portkey Dashboard](https://app.portkey.ai/logs)
  </Step>
</Steps>

### Monitoring Image Generation

All image generation requests through Portkey are automatically tracked with:

- **Cost Attribution**: See exact costs per image generation
- **Request Logs**: Full prompt and response tracking
- **Performance Metrics**: Generation time and success rates
- **Metadata Tags**: Track image generation by team/department

<Frame>
  <img src="/images/integrations/image-gen-logs.png" alt="Portkey Image Generation Logs" width="600" />
</Frame>

<Note>
  **Pro Tip**: If you are using a different AI provider (Gemini, Vertex AI, etc..) and you need to pass some additional params for image gen, you can do that by adding them in portkey's config as `override_params` and attaching it to your Portkey API key. Here's a [guide](/product/administration/enforce-default-config)
</Note>


# Portkey Features

Now that you have enterprise-grade Zed setup, let's explore the comprehensive features Portkey provides to ensure secure, efficient, and cost-effective AI operations.

### 1. Comprehensive Metrics

Using Portkey you can track 40+ key metrics including cost, token usage, response time, and performance across all your LLM providers in real time. You can also filter these metrics based on custom metadata that you can set in your configs. Learn more about metadata here.

<Frame>
  <img src="/images/integrations/observability.png" width="600" />
</Frame>

### 2. Advanced Logs

Portkey's logging dashboard provides detailed logs for every request made to your LLMs. These logs include:

- Complete request and response tracking
- Metadata tags for filtering
- Cost attribution and much more...

<Frame>
  <img src="/images/llms/openai/logs.png"></img>
</Frame>

### 3. Unified Access to 1600+ LLMs

You can easily switch between 1600+ LLMs. Call various LLMs such as Anthropic, Gemini, Mistral, Azure OpenAI, Google Vertex AI, AWS Bedrock, and many more by simply changing the `model slug` in your default `config` object.

### 4. Advanced Metadata Tracking

Using Portkey, you can add custom metadata to your LLM requests for detailed tracking and analytics. Use metadata tags to filter logs, track usage, and attribute costs across departments and teams.

<Card
  title="Custom Metata"
  icon="coins"
  href="/docs/product/ai-gateway/metadata"
></Card>

### 5. Enterprise Access Management

<CardGroup cols={2}>
<Card title="Budget Controls" icon="coins" href="/product/model-catalog/integrations#3-budget-%26-rate-limits">
Set and manage spending limits across teams and departments. Control costs with granular budget limits and usage tracking.
</Card>

<Card
  title="Single Sign-On (SSO)"
  icon="key"
  href="/docs/product/enterprise-offering/org-management/sso"
>
  Enterprise-grade SSO integration with support for SAML 2.0, Okta, Azure AD,
  and custom providers for secure authentication.
</Card>

<Card
  title="Organization Management"
  icon="building"
  href="/docs/product/enterprise-offering/org-management"
>
  Hierarchical organization structure with workspaces, teams, and role-based
  access control for enterprise-scale deployments.
</Card>

<Card title="Access Rules & Audit Logs" icon="shield-check" href="/docs/product/enterprise-offering/access-control-management#audit-logs">
Comprehensive access control rules and detailed audit logging for security compliance and usage tracking.
</Card>
</CardGroup>

### 6. Reliability Features

<CardGroup cols={3}>
  <Card title="Fallbacks" icon="life-ring" href="/product/ai-gateway/fallbacks">
    Automatically switch to backup targets if the primary target fails.
  </Card>
  <Card
    title="Conditional Routing"
    icon="route"
    href="/product/ai-gateway/conditional-routing"
  >
    Route requests to different targets based on specified conditions.
  </Card>
  <Card
    title="Load Balancing"
    icon="key"
    href="/docs/product/ai-gateway/load-balancing"
  >
    Distribute requests across multiple targets based on defined weights.
  </Card>
  <Card title="Caching" icon="database" href="/product/ai-gateway/caching">
    Enable caching of responses to improve performance and reduce costs.
  </Card>
  <Card
    title="Smart Retries"
    icon="database"
    href="/product/ai-gateway/retries"
  >
    Automatic retry handling with exponential backoff for failed requests
  </Card>
  <Card
    title="Budget Limits"
    icon="shield-check"
    href="/product/model-catalog/integrations#3-budget-%26-rate-limits"
  >
    Set and manage budget limits across teams and departments. Control costs
    with granular budget limits and usage tracking.
  </Card>
</CardGroup>

### 7. Advanced Guardrails

Protect your Project's data and enhance reliability with real-time checks on LLM inputs and outputs. Leverage guardrails to:

- Prevent sensitive data leaks
- Enforce compliance with organizational policies
- PII detection and masking
- Content filtering
- Custom security rules
- Data compliance checks

<Card title="Guardrails" icon="shield-check" href="/docs/product/guardrails">
  Implement real-time protection for your LLM interactions with automatic
  detection and filtering of sensitive content, PII, and custom security rules.
  Enable comprehensive data protection while maintaining compliance with
  organizational policies.
</Card>

# FAQs

<AccordionGroup>
  <Accordion title="Can I use multiple LLM providers with the same API key?">
    Yes! You can create multiple
    [Integrations](https://app.portkey.ai/integrations) (one for each provider)
    and attach them to a single config. This config can then be connected to
    your API key, allowing you to use multiple providers through a single API
    key.
  </Accordion>
  <Accordion title="How do I track costs for different teams?">
    Portkey provides several ways to track team costs: - Create separate
    Integrations for each team - Use metadata tags in your configs - Set up
    team-specific API keys - Monitor usage in the analytics dashboard
  </Accordion>
  <Accordion title="What happens if a team exceeds their budget limit?">
    When a team reaches their budget limit: 1. Further requests will be blocked
    2. Team admins receive notifications 3. Usage statistics remain available in
    dashboard 4. Limits can be adjusted if needed
  </Accordion>
</AccordionGroup>

# Next Steps

**Join our Community**

- [Discord Community](https://portkey.sh/discord-report)
- [GitHub Repository](https://github.com/Portkey-AI)

<Note>
  For enterprise support and custom features, contact our [enterprise
  team](https://calendly.com/portkey-ai).
</Note>
