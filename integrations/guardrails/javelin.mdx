---
title: "Javelin"
description: "Javelin provides comprehensive AI security guardrails including Trust & Safety, Prompt Injection Detection, and Language Detection for enterprise AI agents & applications."
---

[Javelin](https://getjavelin.com) is a cutting-edge AI production platform designed for LLM-forward enterprises, providing centralized guardrails and distributed team controls. It offers comprehensive security features including trust & safety filtering, prompt injection detection, and language detection.

To get started with Javelin, visit their documentation:
<Card title="Get Started with Javelin" href="https://docs.getjavelin.io/"/>

## Using Javelin with Portkey

### 1. Add Javelin Credentials to Portkey

* Navigate to the `Plugins` page under `Sidebar`
* Click on the edit button for the Javelin integration
* Add your Javelin API key and domain information (refer to [Javelin's documentation](https://docs.getjavelin.io/) for how to obtain these credentials)
* Optionally configure the application name for policy-specific guardrails

### 2. Add Javelin's Guardrail Checks

* Navigate to the `Guardrails` page and click the `Create` button
* Search for Javelin's guardrails and click `Add`
* Configure your guardrail settings based on your security requirements
* Set any actions you want on your check, and create the Guardrail!

<Note>
    Guardrail Actions allow you to orchestrate your guardrails logic. You can learn them [here](/product/guardrails#there-are-6-types-of-guardrail-actions)
</Note>

| Check Name | Description | Parameters | Supported Hooks |
|------------|-------------|------------|-----------------|
| Trust & Safety | Detect harmful content across multiple categories including violence, weapons, hate speech, crime, sexual content, and profanity | threshold (number, 0.0-1.0, default: 0.75) | `beforeRequestHook`, `afterRequestHook` |
| Prompt Injection Detection | Detect prompt injection attempts and jailbreak techniques to prevent model manipulation | threshold (number, 0.0-1.0, default: 0.5) | `beforeRequestHook`, `afterRequestHook` |
| Language Detection | Detect the language of input text with confidence scores and enforce allowed languages | allowed_languages (array), min_confidence (number, 0.0-1.0, default: 0.8) | `beforeRequestHook`, `afterRequestHook` |

### 3. Add Guardrail ID to a Config and Make Your Request

* When you save a Guardrail, you'll get an associated Guardrail ID - add this ID to the `input_guardrails` or `output_guardrails` params in your Portkey Config
* Create these Configs in Portkey UI, save them, and get an associated Config ID to attach to your requests. [More here](/product/ai-gateway/configs).

Here's an example config:

```json
{
  "input_guardrails": ["guardrails-id-xxx", "guardrails-id-yyy"],
  "output_guardrails": ["guardrails-id-xxx", "guardrails-id-yyy"]
}
```

<Tabs>
  <Tab title="NodeJS">

```js
const portkey = new Portkey({
    apiKey: "PORTKEY_API_KEY",
    config: "pc-***" // Supports a string config id or a config object
});
```
  </Tab>
  <Tab title="Python">

```py
portkey = Portkey(
    api_key="PORTKEY_API_KEY",
    config="pc-***" # Supports a string config id or a config object
)
```
  </Tab>
  <Tab title="OpenAI NodeJS">

```js
const openai = new OpenAI({
  apiKey: 'OPENAI_API_KEY',
  baseURL: PORTKEY_GATEWAY_URL,
  defaultHeaders: createHeaders({
    apiKey: "PORTKEY_API_KEY",
    config: "CONFIG_ID"
  })
});
```
  </Tab>
  <Tab title="OpenAI Python">

```py
client = OpenAI(
    api_key="OPENAI_API_KEY", # defaults to os.environ.get("OPENAI_API_KEY")
    base_url=PORTKEY_GATEWAY_URL,
    default_headers=createHeaders(
        provider="openai",
        api_key="PORTKEY_API_KEY", # defaults to os.environ.get("PORTKEY_API_KEY")
        config="CONFIG_ID"
    )
)
```
  </Tab>
<Tab title="cURL">

```sh
curl https://api.portkey.ai/v1/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $OPENAI_API_KEY" \
  -H "x-portkey-api-key: $PORTKEY_API_KEY" \
  -H "x-portkey-config: $CONFIG_ID" \
  -d '{
    "model": "gpt-3.5-turbo",
    "messages": [{
        "role": "user",
        "content": "Hello!"
      }]
  }'
```
  </Tab>
</Tabs>

For more, refer to the [Config documentation](/product/ai-gateway/configs).

Your requests are now protected by Javelin's AI security platform and you can see the results and any actions you take directly on Portkey logs! More detailed logs for your requests will also be available on your Javelin dashboard.

---

## Using Raw Guardrails with Javelin

You can define Javelin guardrails directly in your code for more programmatic control without using the Portkey UI. This "raw guardrails" approach lets you dynamically configure guardrails based on your application's needs.

<Note>
    We recommend that you create guardrails using the Portkey UI whenever possible. Raw guardrails are more complex and require you to manage credentials and configurations directly in your code.
</Note>

<Accordion title="Key Configuration Properties">

### Available Javelin Guardrails

| Guardrail Name | ID | Description | Parameters |
| -------------- | -- | ----------- | ---------- |
| Trust & Safety | `javelin.trustsafety` | Detect harmful content across multiple categories including violence, weapons, hate speech, crime, sexual content, and profanity | `threshold` (number, 0.0-1.0) |
| Prompt Injection Detection | `javelin.promptinjectiondetection` | Detect prompt injection attempts and jailbreak techniques | `threshold` (number, 0.0-1.0) |
| Language Detection | `javelin.lang_detector` | Detect the language of input text with confidence scores | `allowed_languages` (array), `min_confidence` (number, 0.0-1.0) |

### Implementation Examples

- **`type`**: Always set to `"guardrail"` for guardrail checks
- **`id`**: A unique identifier for your guardrail
- **`credentials`**: Authentication details for Javelin
  - `apiKey`: Your Javelin API key
  - `domain`: Your Javelin backend URL (e.g., `your-javelin-backend-url`)
  - `application`: Optional application name for policy-specific guardrails
- **`checks`**: Array of guardrail checks to run
  - `id`: The specific guardrail ID from the table above
  - `parameters`: Configuration options specific to each guardrail
- **`deny`**: Whether to block the request if guardrail fails (true/false)
- **`async`**: Whether to run guardrail asynchronously (true/false)
- **`on_success`/`on_fail`**: Optional callbacks for success/failure scenarios
  - `feedback`: Data for logging and analytics
  - `weight`: Importance of this feedback (0-1)
  - `value`: Feedback score (-10 to 10)

</Accordion>

### Trust & Safety Example

```json
{
  "before_request_hooks": [
    {
      "type": "guardrail",
      "id": "javelin-trust-safety",
      "credentials": {
        "apiKey": "your_javelin_api_key",
        "domain": "your-javelin-backend-url",
        "application": "my-app"
      },
      "checks": [
        {
          "id": "javelin.trustsafety",
          "parameters": {
            "threshold": 0.75
          }
        }
      ],
      "deny": true,
      "async": false,
      "on_success": {
        "feedback": {
          "weight": 1,
          "value": 1,
          "metadata": {
            "user": "user_xyz",
            "check_type": "trust_safety"
          }
        }
      },
      "on_fail": {
        "feedback": {
          "weight": 1,
          "value": -1,
          "metadata": {
            "user": "user_xyz",
            "check_type": "trust_safety"
          }
        }
      }
    }
  ]
}
```

### Prompt Injection Detection Example

```json
{
  "before_request_hooks": [
    {
      "type": "guardrail",
      "id": "javelin-prompt-injection",
      "credentials": {
        "apiKey": "your_javelin_api_key",
        "domain": "your-javelin-backend-url"
      },
      "checks": [
        {
          "id": "javelin.promptinjectiondetection",
          "parameters": {
            "threshold": 0.5
          }
        }
      ],
      "deny": true,
      "async": false
    }
  ]
}
```

### Language Detection Example

```json
{
  "before_request_hooks": [
    {
      "type": "guardrail",
      "id": "javelin-language-check",
      "credentials": {
        "apiKey": "your_javelin_api_key",
        "domain": "your-javelin-backend-url"
      },
      "checks": [
        {
          "id": "javelin.lang_detector",
          "parameters": {
            "allowed_languages": ["en", "hi"],
            "min_confidence": 0.8
          }
        }
      ],
      "deny": true,
      "async": false
    }
  ]
}
```

<Note>
When using raw guardrails, you must provide valid credentials for the Javelin service directly in your config. Make sure to handle these credentials securely and consider using environment variables or secrets management.
</Note>

## Key Features

### Trust & Safety
Javelin's Trust & Safety processor provides comprehensive content filtering across multiple categories:
- **Violence & Weapons**: Detect content related to violence, weapons, or harmful activities
- **Hate Speech**: Identify discriminatory language and hate speech
- **Crime**: Flag content related to criminal activities
- **Sexual Content**: Detect inappropriate sexual content
- **Profanity**: Filter profane language and offensive content

### Prompt Injection Detection
Protect your AI agents & applications from sophisticated manipulation attempts:
- **Injection Pattern Recognition**: Detect known prompt injection techniques
- **Jailbreak Detection**: Identify attempts to bypass model safety measures
- **Malicious Command Filtering**: Block attempts to execute unintended commands
- **Real-time Analysis**: Process inputs in real-time with configurable thresholds

### Language Detection
Ensure content compliance with language policies:
- **Multi-language Support**: Detect content in over 100 languages
- **Confidence Scoring**: Configurable confidence thresholds for accurate detection
- **Language Allowlisting**: Restrict content to specific languages
- **Cultural Compliance**: Maintain cultural and regional content standards

## Get Support

If you face any issues with the Javelin integration, please reach out to Javelin support through their [Get in Touch page](https://www.getjavelin.com/get-in-touch).
