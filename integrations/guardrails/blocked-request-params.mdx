---
title: "Blocked Request Params"
description: "Control which tools and request parameters can be used by blocking or allowing specific keys, values, tool types, and function names."
---

The **Blocked Request Params** guardrail provides comprehensive control over both AI tools and request parameters in your API calls. This is essential for:

- **Security**: Prevent access to sensitive parameters and dangerous tools
- **Compliance**: Restrict requests to approved parameters and tool combinations
- **Cost Control**: Block expensive parameters or tool types
- **Safety**: Prevent unintended actions from autonomous agents

## Tools Configuration

Control which AI tools and function calls can be used in requests.

### Supported Tool Types

| Tool Type | Description |
|-----------|-------------|
| `function` | Custom function calling tools |
| `web_search_preview` | Web search preview capabilities |
| `web_search` | Web search tools |
| `file_search` | File search and retrieval tools |
| `code_interpreter` | Code execution tools |
| `computer_use` | Computer use/automation tools |
| `mcp` | Model Context Protocol tools |
and more..
### Tools Configuration Options

- **Blocked Tool Types**: Block specific tool types while allowing others
- **Allowed Tool Types**: Only permit specified tool types; all others will be blocked
- **Blocked Function Names**: Block particular function names while allowing other functions
- **Allowed Function Names**: Only permit specified function names; all other function calls will be blocked

## Parameters Configuration

Control which request parameters (keys) and their values are allowed in API calls.

### Parameters Configuration Options

- **Blocked Keys**: Block specific parameter keys from being used in requests (e.g., `temperature`, `top_p`, `seed`)
- **Allowed Keys**: Only permit specified parameter keys; all others will be blocked
- **Blocked Values**: For specific parameters, block certain values
- **Allowed Values**: For specific parameters, only permit certain values

## Setting Up the Guardrail

1. **Navigate to Guardrails**: Go to the `Guardrails` page and click `Create`
2. **Select Blocked Request Params**: Choose the "Blocked Request Params" guardrail from the list
3. **Configure Tools Rules** (optional):
   - **Blocked Tool Types**: Select tool types to block
   - **Allowed Tool Types**: Or specify only the tool types to allow
   - **Blocked Function Names**: Enter specific function names to block
   - **Allowed Function Names**: Or specify only the function names to allow
4. **Configure Parameters Rules** (optional):
   - **Blocked Keys**: Enter parameter keys to block
   - **Allowed Keys**: Or specify only the parameter keys to allow
   - **Parameter Values**: Define value constraints for specific parameters
5. **Save the Guardrail**: Name your guardrail and save it to get the associated Guardrail ID

## Example Implementation

<Tabs>
  <Tab title="NodeJS">
```js
import Portkey from 'portkey-ai';

const portkey = new Portkey({
    apiKey: "PORTKEY_API_KEY",
    config: "pc-***" // Config with blocked request params guardrail
});

const response = await portkey.chat.completions.create({
    model: "gpt-4",
    messages: [
        { role: "user", content: "Hello!" }
    ],
    temperature: 0.7,
    max_tokens: 1000
});
```
  </Tab>
  <Tab title="Python">
```python
from portkey_ai import Portkey

portkey = Portkey(
    api_key="PORTKEY_API_KEY",
    config="pc-***"  # Config with blocked request params guardrail
)

response = portkey.chat.completions.create(
    model="gpt-4",
    messages=[
        {"role": "user", "content": "Hello!"}
    ],
    temperature=0.7,
    max_tokens=1000
)
```
  </Tab>
</Tabs>

## Use Cases

### Restricting Agent Capabilities

Prevent autonomous agents from accessing potentially dangerous tools like `code_interpreter` or `computer_use`, and block specific function names like `execute_shell`.

### Lock Down Production Requests

Only allow approved parameters like `model`, `messages`, and `max_tokens` while blocking experimental parameters.

### Enforce Model Consistency

Block `temperature` and `top_p` to ensure all requests use the model's default sampling behavior.

### Restrict Model Selection

Use allowed values on the `model` parameter to ensure only approved models can be used.

### Approved Functions Only

For production environments, only allow pre-approved function names while blocking all others.

### Prevent Streaming

Block the value `true` for the `stream` parameter to ensure all responses are non-streaming.

<Note>
**Precedence Rules:**
- When both blocked and allowed lists are specified for any configuration (tool types, function names, keys, or values), the allowed list takes precedence
</Note>

<Warning>
The guardrail will return an error if you specify the same item in both blocked and allowed lists.
</Warning>
